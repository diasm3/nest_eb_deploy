<svg viewBox="0 0 1400 2000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'Arial', sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: 'Arial', sans-serif; font-size: 14px; fill: #34495e; }
      .step-title { font-family: 'Arial', sans-serif; font-size: 16px; font-weight: bold; fill: white; }
      .step-text { font-family: 'Arial', sans-serif; font-size: 12px; fill: white; }
      .decision-text { font-family: 'Arial', sans-serif; font-size: 11px; fill: #2c3e50; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .yes-arrow { stroke: #27ae60; stroke-width: 2; fill: none; marker-end: url(#arrowhead-green); }
      .no-arrow { stroke: #e74c3c; stroke-width: 2; fill: none; marker-end: url(#arrowhead-red); }
      
      .aws-box { fill: #ff9900; stroke: #cc7a00; stroke-width: 2; }
      .project-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .eb-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .github-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .https-box { fill: #e67e22; stroke: #d35400; stroke-width: 2; }
      .deploy-box { fill: #34495e; stroke: #2c3e50; stroke-width: 2; }
      .test-box { fill: #16a085; stroke: #138d75; stroke-width: 2; }
      .decision-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .final-box { fill: #27ae60; stroke: #229954; stroke-width: 2; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
    
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60" />
    </marker>
    
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">Elastic Beanstalk + HTTPS ì™„ì „ ì„¤ì • ê°€ì´ë“œ</text>
  <text x="700" y="50" text-anchor="middle" class="subtitle">NestJS + Docker + ALB + Route 53 + GitHub Actions CI/CD</text>

  <!-- 1. AWS ê³„ì • ì„¤ì • -->
  <rect x="550" y="80" width="300" height="80" rx="10" class="aws-box"/>
  <text x="700" y="105" text-anchor="middle" class="step-title">1ï¸âƒ£ AWS ê³„ì • ì„¤ì •</text>
  <text x="700" y="125" text-anchor="middle" class="step-text">â€¢ IAM ì‚¬ìš©ì ìƒì„± (IAMFullAccess í•„ìˆ˜)</text>
  <text x="700" y="140" text-anchor="middle" class="step-text">â€¢ AWS CLI ì„¤ì •</text>
  <text x="700" y="155" text-anchor="middle" class="step-text">â€¢ ì„œë¹„ìŠ¤ ë¡¤ ìƒì„±</text>

  <!-- Arrow down -->
  <line x1="700" y1="160" x2="700" y2="190" class="arrow"/>

  <!-- 2. NestJS í”„ë¡œì íŠ¸ ì„¤ì • -->
  <rect x="550" y="200" width="300" height="80" rx="10" class="project-box"/>
  <text x="700" y="225" text-anchor="middle" class="step-title">2ï¸âƒ£ NestJS í”„ë¡œì íŠ¸ ì„¤ì •</text>
  <text x="700" y="245" text-anchor="middle" class="step-text">â€¢ Dockerfile ì‘ì„± (Multi-stage build)</text>
  <text x="700" y="260" text-anchor="middle" class="step-text">â€¢ main.ts í¬íŠ¸ ì„¤ì • (0.0.0.0:8080)</text>
  <text x="700" y="275" text-anchor="middle" class="step-text">â€¢ í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ (/health)</text>

  <!-- Arrow down -->
  <line x1="700" y1="280" x2="700" y2="310" class="arrow"/>

  <!-- 3. Elastic Beanstalk ì„¤ì • -->
  <rect x="550" y="320" width="300" height="80" rx="10" class="eb-box"/>
  <text x="700" y="345" text-anchor="middle" class="step-title">3ï¸âƒ£ Elastic Beanstalk ì„¤ì •</text>
  <text x="700" y="365" text-anchor="middle" class="step-text">â€¢ .ebextensions ì„¤ì • íŒŒì¼ ìƒì„±</text>
  <text x="700" y="380" text-anchor="middle" class="step-text">â€¢ ALB í™˜ê²½ ìƒì„± (--elb-type application)</text>
  <text x="700" y="395" text-anchor="middle" class="step-text">â€¢ ì²« ë°°í¬ ë° ë™ì‘ í™•ì¸</text>

  <!-- Arrow down -->
  <line x1="700" y1="400" x2="700" y2="430" class="arrow"/>

  <!-- 4. ë¸Œëœì¹˜ ì „ëµ ì„¤ì • -->
  <rect x="550" y="440" width="300" height="80" rx="10" class="github-box"/>
  <text x="700" y="465" text-anchor="middle" class="step-title">4ï¸âƒ£ ë¸Œëœì¹˜ ì „ëµ & CI/CD</text>
  <text x="700" y="485" text-anchor="middle" class="step-text">â€¢ dev/rel/main ë¸Œëœì¹˜ ìƒì„±</text>
  <text x="700" y="500" text-anchor="middle" class="step-text">â€¢ GitHub Actions ì›Œí¬í”Œë¡œìš°</text>
  <text x="700" y="515" text-anchor="middle" class="step-text">â€¢ í™˜ê²½ë³„ ìë™ ë°°í¬ ì„¤ì •</text>

  <!-- Arrow down -->
  <line x1="700" y1="520" x2="700" y2="550" class="arrow"/>

  <!-- HTTPS ì„¤ì • Decision -->
  <polygon points="700,560 800,600 700,640 600,600" class="decision-box"/>
  <text x="700" y="595" text-anchor="middle" class="decision-text">HTTPS ì„¤ì •</text>
  <text x="700" y="610" text-anchor="middle" class="decision-text">í•„ìš”?</text>

  <!-- Yes Branch (HTTPS) -->
  <line x1="750" y1="600" x2="850" y2="600" class="yes-arrow"/>
  <text x="810" y="590" text-anchor="middle" class="decision-text" fill="#27ae60">Yes</text>

  <!-- 5A. Route 53 & ACM ì„¤ì • -->
  <rect x="900" y="560" width="280" height="80" rx="10" class="https-box"/>
  <text x="1040" y="585" text-anchor="middle" class="step-title">5Aï¸âƒ£ Route 53 & ACM</text>
  <text x="1040" y="605" text-anchor="middle" class="step-text">â€¢ ë„ë©”ì¸ í˜¸ìŠ¤íŒ… ì¡´ í™•ì¸</text>
  <text x="1040" y="620" text-anchor="middle" class="step-text">â€¢ SSL ì¸ì¦ì„œ ìš”ì²­ (DNS ê²€ì¦)</text>
  <text x="1040" y="635" text-anchor="middle" class="step-text">â€¢ ê²€ì¦ ë ˆì½”ë“œ ì¶”ê°€</text>

  <!-- Arrow down -->
  <line x1="1040" y1="640" x2="1040" y2="670" class="arrow"/>

  <!-- 5B. ALB HTTPS ì„¤ì • -->
  <rect x="900" y="680" width="280" height="100" rx="10" class="https-box"/>
  <text x="1040" y="705" text-anchor="middle" class="step-title">5Bï¸âƒ£ ALB HTTPS ì„¤ì •</text>
  <text x="1040" y="725" text-anchor="middle" class="step-text">â€¢ .ebextensions/05-https.config</text>
  <text x="1040" y="740" text-anchor="middle" class="step-text">â€¢ 443 ë¦¬ìŠ¤ë„ˆ (AWS ê³µì‹ ë°©ë²•)</text>
  <text x="1040" y="755" text-anchor="middle" class="step-text">â€¢ HTTPâ†’HTTPS ë¦¬ë‹¤ì´ë ‰íŠ¸</text>
  <text x="1040" y="770" text-anchor="middle" class="step-text">â€¢ TLS 1.3 ë³´ì•ˆ ì •ì±…</text>

  <!-- Arrow down -->
  <line x1="1040" y1="780" x2="1040" y2="810" class="arrow"/>

  <!-- 5C. ë„ë©”ì¸ ì—°ê²° -->
  <rect x="900" y="820" width="280" height="80" rx="10" class="https-box"/>
  <text x="1040" y="845" text-anchor="middle" class="step-title">5Cï¸âƒ£ ë„ë©”ì¸ ì—°ê²°</text>
  <text x="1040" y="865" text-anchor="middle" class="step-text">â€¢ Route 53 A ë ˆì½”ë“œ (Alias)</text>
  <text x="1040" y="880" text-anchor="middle" class="step-text">â€¢ ì˜¬ë°”ë¥¸ ALB Hosted Zone ID</text>
  <text x="1040" y="895" text-anchor="middle" class="step-text">â€¢ www ì„œë¸Œë„ë©”ì¸ ì„¤ì •</text>

  <!-- No Branch (Skip HTTPS) -->
  <line x1="650" y1="600" x2="550" y2="600" class="no-arrow"/>
  <text x="590" y="590" text-anchor="middle" class="decision-text" fill="#e74c3c">No</text>

  <!-- Merge point -->
  <line x1="550" y1="600" x2="550" y2="1020" class="arrow"/>
  <line x1="1040" y1="900" x2="1040" y2="1020" class="arrow"/>
  <line x1="550" y1="1020" x2="1040" y2="1020" class="arrow"/>
  <circle cx="700" cy="1020" r="5" fill="#34495e"/>

  <!-- Arrow down to deployment -->
  <line x1="700" y1="1025" x2="700" y2="1055" class="arrow"/>

  <!-- 6. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì • -->
  <rect x="550" y="1065" width="300" height="80" rx="10" class="deploy-box"/>
  <text x="700" y="1090" text-anchor="middle" class="step-title">6ï¸âƒ£ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •</text>
  <text x="700" y="1110" text-anchor="middle" class="step-text">â€¢ deploy-dev.sh / deploy-rel.sh</text>
  <text x="700" y="1125" text-anchor="middle" class="step-text">â€¢ Makefile (ë¸Œëœì¹˜ë³„ ëª…ë ¹ì–´)</text>
  <text x="700" y="1140" text-anchor="middle" class="step-text">â€¢ check-https.sh (ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸)</text>

  <!-- Arrow down -->
  <line x1="700" y1="1145" x2="700" y2="1175" class="arrow"/>

  <!-- 7. í…ŒìŠ¤íŠ¸ & ê²€ì¦ -->
  <rect x="550" y="1185" width="300" height="100" rx="10" class="test-box"/>
  <text x="700" y="1210" text-anchor="middle" class="step-title">7ï¸âƒ£ í…ŒìŠ¤íŠ¸ & ê²€ì¦</text>
  <text x="700" y="1230" text-anchor="middle" class="step-text">â€¢ ë¡œì»¬ Docker í…ŒìŠ¤íŠ¸</text>
  <text x="700" y="1245" text-anchor="middle" class="step-text">â€¢ ë¸Œëœì¹˜ë³„ ë°°í¬ í…ŒìŠ¤íŠ¸</text>
  <text x="700" y="1260" text-anchor="middle" class="step-text">â€¢ HTTPS ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸</text>
  <text x="700" y="1275" text-anchor="middle" class="step-text">â€¢ GitHub Actions ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸</text>

  <!-- Arrow down -->
  <line x1="700" y1="1285" x2="700" y2="1315" class="arrow"/>

  <!-- Final Success -->
  <rect x="400" y="1325" width="600" height="120" rx="15" class="final-box"/>
  <text x="700" y="1355" text-anchor="middle" class="step-title" style="font-size: 20px;">ğŸ‰ ì™„ë£Œ!</text>
  <text x="700" y="1380" text-anchor="middle" class="step-text">âœ… NestJS + Docker + Elastic Beanstalk</text>
  <text x="700" y="1395" text-anchor="middle" class="step-text">âœ… ALB + HTTPS + ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸</text>
  <text x="700" y="1410" text-anchor="middle" class="step-text">âœ… ë¸Œëœì¹˜ ì „ëµ ê¸°ë°˜ CI/CD</text>
  <text x="700" y="1425" text-anchor="middle" class="step-text">âœ… Route 53 ë„ë©”ì¸ + ACM ì¸ì¦ì„œ</text>
  <text x="700" y="1440" text-anchor="middle" class="step-text">âœ… ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ìë™í™” í™˜ê²½</text>

  <!-- Development Workflow Box -->
  <rect x="50" y="1500" width="650" height="200" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2"/>
  <text x="375" y="1525" text-anchor="middle" class="step-title" style="fill: #2c3e50;">ğŸ”„ ì¼ë°˜ì ì¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°</text>
  
  <text x="70" y="1550" class="step-text" style="fill: #2c3e50; font-weight: bold;">1. ìƒˆ ê¸°ëŠ¥ ê°œë°œ:</text>
  <text x="70" y="1565" class="step-text" style="fill: #2c3e50;">./workflow.sh feature login-improvement</text>
  <text x="70" y="1580" class="step-text" style="fill: #2c3e50;">git commit -m "feat: ë¡œê·¸ì¸ ê°œì„ " && git push</text>
  <text x="70" y="1595" class="step-text" style="fill: #2c3e50;">GitHubì—ì„œ feature â†’ dev PR ìƒì„±</text>
  
  <text x="70" y="1620" class="step-text" style="fill: #2c3e50; font-weight: bold;">2. ê°œë°œ í™˜ê²½ í…ŒìŠ¤íŠ¸:</text>
  <text x="70" y="1635" class="step-text" style="fill: #2c3e50;">PR ë¨¸ì§€ ì‹œ ìë™ìœ¼ë¡œ Development í™˜ê²½ ë°°í¬</text>
  
  <text x="70" y="1660" class="step-text" style="fill: #2c3e50; font-weight: bold;">3. í”„ë¡œë•ì…˜ ë°°í¬:</text>
  <text x="70" y="1675" class="step-text" style="fill: #2c3e50;">dev â†’ rel PR ìƒì„± ë° ë¨¸ì§€</text>
  <text x="70" y="1690" class="step-text" style="fill: #2c3e50;">ìë™ìœ¼ë¡œ Production ë°°í¬ + HTTPS í™œì„±í™” + Release ìƒì„±</text>

  <!-- Useful Commands Box -->
  <rect x="750" y="1500" width="600" height="200" rx="10" fill="#f8f9fa" stroke="#bdc3c7" stroke-width="2"/>
  <text x="1050" y="1525" text-anchor="middle" class="step-title" style="fill: #2c3e50;">ğŸ’¡ ìœ ìš©í•œ ëª…ë ¹ì–´ë“¤</text>
  
  <text x="770" y="1550" class="step-text" style="fill: #2c3e50; font-weight: bold;">ë¸Œëœì¹˜ë³„ ë°°í¬:</text>
  <text x="770" y="1565" class="step-text" style="fill: #2c3e50; font-family: monospace;">make deploy-dev MSG="ìƒˆ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸"</text>
  <text x="770" y="1580" class="step-text" style="fill: #2c3e50; font-family: monospace;">make deploy-prod MSG="v1.2.0 ë¦´ë¦¬ì¦ˆ"</text>
  
  <text x="770" y="1605" class="step-text" style="fill: #2c3e50; font-weight: bold;">HTTPS ê²€ì¦:</text>
  <text x="770" y="1620" class="step-text" style="fill: #2c3e50; font-family: monospace;">make check-https</text>
  <text x="770" y="1635" class="step-text" style="fill: #2c3e50; font-family: monospace;">curl -I https://yourdomain.com</text>
  
  <text x="770" y="1660" class="step-text" style="fill: #2c3e50; font-weight: bold;">ìƒíƒœ í™•ì¸:</text>
  <text x="770" y="1675" class="step-text" style="fill: #2c3e50; font-family: monospace;">make status-all</text>
  <text x="770" y="1690" class="step-text" style="fill: #2c3e50; font-family: monospace;">make health-all</text>

  <!-- Key Features Box -->
  <rect x="50" y="1750" width="1300" height="120" rx="10" fill="#2c3e50" stroke="#34495e" stroke-width="2"/>
  <text x="700" y="1775" text-anchor="middle" class="step-title" style="font-size: 18px;">ğŸš€ í•µì‹¬ íŠ¹ì§•</text>
  
  <text x="70" y="1800" class="step-text">âœ… AWS ê³µì‹ ë¬¸ì„œ ê¸°ë°˜ HTTPS ì„¤ì •</text>
  <text x="70" y="1815" class="step-text">âœ… ìë™ HTTP â†’ HTTPS ë¦¬ë‹¤ì´ë ‰íŠ¸</text>
  <text x="70" y="1830" class="step-text">âœ… ë¸Œëœì¹˜ ì „ëµ ê¸°ë°˜ ìë™ ë°°í¬</text>
  <text x="70" y="1845" class="step-text">âœ… TLS 1.3 ìµœì‹  ë³´ì•ˆ ì •ì±…</text>
  <text x="70" y="1860" class="step-text">âœ… ê³ ê°€ìš©ì„± ALB êµ¬ì„±</text>
  
  <text x="700" y="1800" class="step-text">âœ… ACM ìë™ ê°±ì‹  SSL ì¸ì¦ì„œ</text>
  <text x="700" y="1815" class="step-text">âœ… Route 53 ë„ë©”ì¸ í†µí•©</text>
  <text x="700" y="1830" class="step-text">âœ… GitHub Actions CI/CD</text>
  <text x="700" y="1845" class="step-text">âœ… Docker Multi-stage Build</text>
  <text x="700" y="1860" class="step-text">âœ… í¬ê´„ì ì¸ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…</text>

  <!-- Branch Strategy Diagram -->
  <rect x="50" y="1920" width="1300" height="60" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2"/>
  <text x="700" y="1940" text-anchor="middle" class="step-title" style="fill: #2c3e50;">ğŸŒ¿ ë¸Œëœì¹˜ ì „ëµ</text>
  
  <text x="100" y="1960" class="step-text" style="fill: #2c3e50; font-family: monospace;">feature/* â†’ dev (PR) â†’ Development í™˜ê²½</text>
  <text x="600" y="1960" class="step-text" style="fill: #2c3e50; font-family: monospace;">dev â†’ rel (PR) â†’ Production í™˜ê²½ (HTTPS)</text>
  <text x="1100" y="1960" class="step-text" style="fill: #2c3e50; font-family: monospace;">main (Archive)</text>

</svg>